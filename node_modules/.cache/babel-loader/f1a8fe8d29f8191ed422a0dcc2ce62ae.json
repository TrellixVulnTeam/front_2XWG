{"remainingRequest":"/home/freedomsky/hakaton/front/node_modules/babel-loader/lib/index.js!/home/freedomsky/hakaton/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/freedomsky/hakaton/front/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/freedomsky/hakaton/front/src/views/managementStructure/ManagementStructureGraph.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/freedomsky/hakaton/front/src/views/managementStructure/ManagementStructureGraph.vue","mtime":1630248355671},{"path":"/home/freedomsky/hakaton/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/freedomsky/hakaton/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/freedomsky/hakaton/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/freedomsky/hakaton/front/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE9yZ0NoYXJ0IGZyb20gIkAvZ3JhcGgvb3JnLWNoYXJ0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNYW5hZ2VtZW50U3RydWN0dXJlR3JhcGgiLAogIGVtaXRzOiBbIm9wZW4iXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogbnVsbCwKICAgICAgb3JnQ2hhcnQ6IG51bGwsCiAgICAgIHNlbGVjdGVkTm9kZUlkOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMucmVsb2FkR3JhcGgoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLm9yZ0NoYXJ0ID0gbmV3IE9yZ0NoYXJ0KHRoaXMuc2V0U2VsZWN0ZWROb2RlSWQpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVsb2FkR3JhcGg6IGZ1bmN0aW9uIHJlbG9hZEdyYXBoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEdyYXBoU3RydWN0dXJlIik7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmRhdGEgPSBfdGhpcy4kc3RvcmUuc3RhdGUuZ3JhcGhTdHJ1Y3R1cmU7CgogICAgICAgIF90aGlzLm9yZ0NoYXJ0LmRyYXcoX3RoaXMuZGF0YS5vYmplY3RzWzBdKTsKICAgICAgfSwgNTAwKTsKICAgIH0sCiAgICBzZXRTZWxlY3RlZE5vZGVJZDogZnVuY3Rpb24gc2V0U2VsZWN0ZWROb2RlSWQoaWQpIHsKICAgICAgdGhpcy4kZW1pdCgib3BlbiIpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0RGF0YUNhcmQiLCBpZCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/freedomsky/hakaton/front/src/views/managementStructure/ManagementStructureGraph.vue"],"names":[],"mappings":"AAUA,OAAO,QAAP,MAAqB,mBAArB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,0BADO;AAEb,EAAA,KAAK,EAAE,CAAC,MAAD,CAFM;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,IAAI,EAAE,IADD;AAEL,MAAA,QAAQ,EAAE,IAFL;AAGL,MAAA,cAAc,EAAE;AAHX,KAAP;AAKD,GATY;AAUb,EAAA,OAVa,qBAUH;AACR,SAAK,WAAL;AACD,GAZY;AAab,EAAA,OAba,qBAaH;AACR,SAAK,QAAL,GAAgB,IAAI,QAAJ,CAAa,KAAK,iBAAlB,CAAhB;AACD,GAfY;AAgBb,EAAA,OAAO,EAAE;AACP,IAAA,WADO,yBACO;AAAA;;AACZ,WAAK,MAAL,CAAY,QAAZ,CAAqB,mBAArB;AACA,MAAA,UAAU,CAAC,YAAM;AACf,QAAA,KAAI,CAAC,IAAL,GAAY,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,cAA9B;;AACA,QAAA,KAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,KAAI,CAAC,IAAL,CAAU,OAAV,CAAkB,CAAlB,CAAnB;AACD,OAHS,EAGP,GAHO,CAAV;AAID,KAPM;AAQP,IAAA,iBARO,6BAQW,EARX,EAQe;AACpB,WAAK,KAAL,CAAW,MAAX;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,aAArB,EAAoC,EAApC;AACD;AAXM;AAhBI,CAAf","sourcesContent":["<template>\n  <div class=\"ManagementStructureGraph\">\n    <div id=\"org-chart-container\"></div>\n    <button class=\"ManagementStructureGraph__reloadButton\" @click=\"reloadGraph\">\n      Reload\n    </button>\n  </div>\n</template>\n\n<script>\nimport OrgChart from \"@/graph/org-chart\";\n\nexport default {\n  name: \"ManagementStructureGraph\",\n  emits: [\"open\"],\n  data() {\n    return {\n      data: null,\n      orgChart: null,\n      selectedNodeId: null,\n    };\n  },\n  created() {\n    this.reloadGraph();\n  },\n  mounted() {\n    this.orgChart = new OrgChart(this.setSelectedNodeId);\n  },\n  methods: {\n    reloadGraph() {\n      this.$store.dispatch(\"getGraphStructure\");\n      setTimeout(() => {\n        this.data = this.$store.state.graphStructure;\n        this.orgChart.draw(this.data.objects[0]);\n      }, 500);\n    },\n    setSelectedNodeId(id) {\n      this.$emit(\"open\");\n      this.$store.dispatch(\"getDataCard\", id);\n    },\n  },\n};\n</script>\n<style lang=\"sass\">\n@import \"~@/assets/styles/components/button.mixin\"\n\n.ManagementStructureGraph\n  height: 100%\n\n  &__reloadButton\n    position: absolute\n    bottom: 20px\n    left: 20px\n    @include button(5px, 20px, 8px, #096DD9, #007BFF)\n    font-size: 14px\n    font-weight: 500\n\n#org-chart-container\n  overflow: hidden\n  height: 100%\n  background-color: $graph-background-color\n</style>\n"],"sourceRoot":""}]}